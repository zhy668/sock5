# HTTP & SOCKS5 代理一键管理工具

一个功能全面的代理服务器管理脚本，支持 HTTP (Tinyproxy) 和 SOCKS5 (Dante) 代理的一键安装、配置和管理。

## ✨ 特性

- 🚀 **快速安装**: 支持预编译二进制文件，安装速度极快
- 🔧 **双协议支持**: 同时支持 HTTP 和 SOCKS5 代理
- 🛡️ **独立认证**: HTTP 和 SOCKS5 使用独立的认证系统
- 📊 **状态监控**: 实时显示代理服务状态和连接信息
- 🔥 **自动配置**: 自动配置防火墙、服务管理等
- 🌐 **多架构支持**: 支持 amd64、arm64、armv7 架构

## 🚀 快速开始

### 一键安装
```bash
bash <(curl -sL https://raw.githubusercontent.com/zhy668/sock5/refs/heads/master/install.sh)
```

### 手动安装
```bash
# 克隆仓库
git clone https://github.com/zhy668/sock5.git
cd sock5

# 运行脚本
chmod +x install.sh
./install.sh
```

## 📋 功能菜单

脚本提供直观的菜单界面：

```
=== SOCKS5 代理管理 ===
1) 安装 SOCKS5 (Dante) 代理
2) 卸载 SOCKS5 (Dante) 代理

=== HTTP 代理管理 ===
3) 安装 HTTP (Tinyproxy) 代理  
4) 卸载 HTTP (Tinyproxy) 代理

=== 其他选项 ===
0) 退出脚本
```

## 🔧 技术特点

### HTTP 代理 (Tinyproxy)
- **预编译版本**: 自动检测系统架构并下载对应的预编译二进制文件
- **源码备用**: 预编译版本不可用时自动切换到源码编译
- **BasicAuth 认证**: 支持用户名密码认证
- **高性能**: 轻量级设计，资源占用少

### SOCKS5 代理 (Dante)
- **系统用户认证**: 使用 VPS 系统用户进行认证
- **PAM 支持**: 完整的 PAM 认证模块配置
- **高兼容性**: 支持各种 SOCKS5 客户端

## 🏗️ 架构支持

脚本会自动检测系统架构并选择最佳安装方式：

| 架构 | 检测结果 | 支持状态 |
|------|----------|----------|
| x86_64 | amd64 | ✅ 预编译 |
| aarch64 | arm64 | ✅ 预编译 |
| armv7l | armv7 | ✅ 预编译 |
| 其他 | unknown | ⚠️ 源码编译 |

## 📊 状态显示

脚本会显示详细的代理状态信息：

```
============================================
代理服务器状态总览
============================================
服务器IP: xxx.xxx.xxx.xxx

--------------------------------------------
SOCKS5 (Dante) 代理状态:
  状态: ✅ 已安装并正在运行 (Active)
  连接信息:
    - 服务器: xxx.xxx.xxx.xxx
    - 端口: 8087
    - 协议: SOCKS5
    - 认证: 系统用户认证 (如: root用户)

--------------------------------------------
HTTP (Tinyproxy) 代理状态:
  状态: ✅ 已安装并正在运行 (Active)
  连接信息:
    - 服务器: xxx.xxx.xxx.xxx
    - 端口: 8088
    - 协议: HTTP
    - 用户名: your_username
    - 密码: [已设置]
============================================
```

## 🛠️ 系统要求

- **操作系统**: Ubuntu/Debian/CentOS
- **权限**: Root 权限
- **网络**: 能够访问 GitHub 和相关软件源
- **架构**: x86_64、aarch64、armv7l（推荐）

## 🔄 自动构建

项目使用 GitHub Actions 自动构建多架构的 Tinyproxy 二进制文件：

- 每次推送到 master 分支时自动触发构建
- 支持交叉编译生成多架构版本
- 自动创建 Release 并上传二进制文件

## 📝 更新日志

### v2.0.0
- ✨ 新增预编译二进制文件支持
- 🚀 大幅提升安装速度
- 🔧 优化系统架构检测
- 📊 改进状态显示界面

### v1.0.0
- 🎉 初始版本发布
- 支持 HTTP 和 SOCKS5 代理管理
- 统一的菜单界面
- 完整的安装和卸载功能

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License
